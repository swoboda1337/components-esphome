Not written by me, meant for testing only. Use this instead: https://github.com/esphome/esphome/pull/6300